/**
 * SuperStack Styles
 *
 * Styling for nested hierarchical headers.
 * Uses CSS variables for theme compatibility.
 */

.superstack {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

/* Header Groups */
.row-headers,
.col-headers {
  pointer-events: auto;
}

/* Individual Headers */
.row-header,
.col-header {
  cursor: pointer;
  transition: opacity 0.15s ease;
}

.row-header:hover .header-bg,
.col-header:hover .header-bg {
  filter: brightness(0.95);
}

/* Selected State */
.row-header.selected .header-bg,
.col-header.selected .header-bg {
  fill: #e3f2fd !important;
  stroke: #1976d2 !important;
  stroke-width: 2px !important;
}

/* Collapsed State */
.row-header.collapsed .header-bg,
.col-header.collapsed .header-bg {
  fill: #fafafa !important;
}

/* Labels */
.header-label {
  pointer-events: none;
  user-select: none;
  font-weight: 500;
}

.header-count {
  pointer-events: none;
  user-select: none;
  opacity: 0.7;
}

/* Collapse Indicator */
.collapse-indicator {
  cursor: pointer;
  pointer-events: auto;
  transition: transform 0.2s ease;
}

.collapse-indicator:hover {
  stroke: #1976d2;
}

/* Depth-based styling for row headers */
.row-header[data-depth='1'] .header-label {
  font-size: 11px;
}

.row-header[data-depth='2'] .header-label {
  font-size: 10px;
}

.row-header[data-depth='3'] .header-label {
  font-size: 10px;
  opacity: 0.9;
}

/* Depth-based styling for column headers */
.col-header[data-depth='0'] .header-bg {
  fill: #e8eaed;
}

.col-header[data-depth='1'] .header-bg {
  fill: #f1f3f4;
}

.col-header[data-depth='2'] .header-bg {
  fill: #f8f9fa;
}

/* NeXTSTEP Theme Override */
:root[data-theme='nextstep'] .superstack {
  font-family: 'SF Pro Text', -apple-system, BlinkMacSystemFont, sans-serif;
}

:root[data-theme='nextstep'] .row-header .header-bg,
:root[data-theme='nextstep'] .col-header .header-bg {
  stroke: #888;
}

:root[data-theme='nextstep'] .col-header[data-depth='0'] .header-bg {
  fill: #d0d0d0;
}

:root[data-theme='nextstep'] .col-header[data-depth='1'] .header-bg {
  fill: #e0e0e0;
}

:root[data-theme='nextstep'] .col-header[data-depth='2'] .header-bg {
  fill: #f0f0f0;
}

:root[data-theme='nextstep'] .row-header.selected .header-bg,
:root[data-theme='nextstep'] .col-header.selected .header-bg {
  fill: #a0c0e0 !important;
  stroke: #4080b0 !important;
}

/* Modern (Glass) Theme Override */
:root[data-theme='modern'] .superstack {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
}

:root[data-theme='modern'] .row-header .header-bg,
:root[data-theme='modern'] .col-header .header-bg {
  stroke: rgba(0, 0, 0, 0.1);
}

:root[data-theme='modern'] .col-header[data-depth='0'] .header-bg {
  fill: rgba(0, 0, 0, 0.04);
}

:root[data-theme='modern'] .col-header[data-depth='1'] .header-bg {
  fill: rgba(0, 0, 0, 0.02);
}

:root[data-theme='modern'] .col-header[data-depth='2'] .header-bg {
  fill: rgba(0, 0, 0, 0.01);
}

/* Animation for collapse/expand */
.row-header,
.col-header {
  transition:
    transform 0.2s ease-out,
    opacity 0.2s ease-out;
}

/* Focus state for accessibility */
.row-header:focus,
.col-header:focus {
  outline: none;
}

.row-header:focus .header-bg,
.col-header:focus .header-bg {
  stroke: #1976d2 !important;
  stroke-width: 2px !important;
}
