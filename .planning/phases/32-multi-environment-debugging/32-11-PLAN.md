---
phase: 32-multi-environment-debugging
plan: 11
type: execute
wave: 2
depends_on: ["32-09"]
files_modified:
  - src/components/shared/ConnectionStatus.tsx
  - src/components/shell/Terminal.tsx
  - src/components/views/GridView.tsx
  - src/components/views/ListView.tsx
  - src/utils/d3-optimization.ts
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "TypeScript compilation errors reduced from 306+ by removing unused variables"
    - "View components compile cleanly without unused variable warnings"
    - "D3 optimization utilities use safe type conversion patterns"
  artifacts:
    - path: "src/components/views/GridView.tsx"
      provides: "Clean GridView component without unused variables"
      min_lines: 300
    - path: "src/components/views/ListView.tsx"
      provides: "Clean ListView component without unused variables"
      min_lines: 250
    - path: "src/utils/d3-optimization.ts"
      provides: "Type-safe D3 optimization utilities"
      contains: "D3 type conversion"
  key_links:
    - from: "src/components/views/GridView.tsx"
      to: "TypeScript compiler"
      via: "Clean compilation without unused variable errors"
      pattern: "error TS6133.*unused"
    - from: "src/utils/d3-optimization.ts"
      to: "TypeScript compiler"
      via: "Safe D3 type casting operations"
      pattern: "D3.*type.*conversion"
---

<objective>
Systematically clean up TypeScript compilation errors by removing unused variables and fixing type safety issues.

Purpose: Reduce the 306+ TypeScript compilation errors by eliminating code bloat and fixing unsafe type operations.
Output: Cleaner codebase with substantially reduced TypeScript compilation errors.
</objective>

<execution_context>
@/Users/mshaler/.claude/get-shit-done/workflows/execute-plan.md
@/Users/mshaler/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Gap closure context from verification
@.planning/phases/32-multi-environment-debugging/32-VERIFICATION.md

# Target files with specific issues
@src/components/views/GridView.tsx
@src/components/views/ListView.tsx
@src/components/shell/Terminal.tsx
</context>

<tasks>

<task type="auto">
  <name>Clean up GridView unused variables</name>
  <files>src/components/views/GridView.tsx</files>
  <action>
    Remove unused variables and fix type issues in GridView.tsx based on compilation errors:

    1. Remove unused `isOnline` variable (line 45)
    2. Remove or properly use `containerWidth` and `containerHeight` variables (lines 109, 114)
    3. Remove unused `renderGridItem` variable (line 166)
    4. Remove unused `networkAwareLiveOptions` variable (line 246)
    5. Fix type argument issue on line 314 (Expected 0 type arguments, but got 1)
    6. Remove unused destructured elements (line 47)

    Apply React component cleanup methodology:
    - Keep only variables that are actually used in the component logic or JSX
    - Remove unused imports while preserving necessary functionality
    - Fix type annotations to match actual usage patterns
  </action>
  <verify>npx tsc --noEmit src/components/views/GridView.tsx</verify>
  <done>GridView.tsx compiles without unused variable warnings or type argument errors</done>
</task>

<task type="auto">
  <name>Clean up ListView unused variables</name>
  <files>src/components/views/ListView.tsx</files>
  <action>
    Remove unused variables and fix type issues in ListView.tsx based on compilation errors:

    1. Remove unused `useEffect` import (line 1) if not actually used
    2. Remove unused `GROUP_HEADER_HEIGHT` constant (line 13)
    3. Remove unused `listRef` variable (line 40)
    4. Remove unused `queueOptimizedSync` variable (line 92)
    5. Remove unused parameters in `renderItem` function: `index` (line 119)
    6. Remove unused `networkAwareLiveOptions` variable (line 130)
    7. Fix type argument issue on line 257 (Expected 0 type arguments, but got 1)

    Follow established patterns from successful view components while maintaining all functional requirements.
  </action>
  <verify>npx tsc --noEmit src/components/views/ListView.tsx</verify>
  <done>ListView.tsx compiles without unused variable warnings or type argument errors</done>
</task>

<task type="auto">
  <name>Clean up Terminal and fix D3 optimization type safety</name>
  <files>src/components/shell/Terminal.tsx, src/utils/d3-optimization.ts</files>
  <action>
    Fix remaining TypeScript issues:

    Terminal.tsx:
    - Remove unused `_executeTerminalCommand` variable (line 95)
    - Remove unused `_writeTerminalOutput` variable (line 104)

    d3-optimization.ts (line 105):
    - Fix unsafe D3 type conversion without proper casting
    - Apply type-safe error handling patterns with defensive type checking
    - Use established D3-React integration pattern with proper type coercion

    For D3 types, use selective type coercion pattern:
    ```typescript
    const safeNode = node as unknown as D3Node;
    ```

    Reference established decision: "TypeScript error resolution patterns: D3 type compatibility through selective type coercion maintaining functionality"
  </action>
  <verify>npx tsc --noEmit src/components/shell/Terminal.tsx src/utils/d3-optimization.ts</verify>
  <done>Terminal and D3 optimization utilities compile with safe type patterns and no unused variables</done>
</task>

</tasks>

<verification>
- [ ] TypeScript compilation errors substantially reduced from 306+ baseline
- [ ] GridView.tsx compiles without unused variable or type errors
- [ ] ListView.tsx compiles without unused variable or type errors
- [ ] Terminal.tsx compiles cleanly
- [ ] D3 optimization utilities use safe type conversion patterns
- [ ] No regressions in component functionality
</verification>

<success_criteria>
- Unused variable compilation errors are eliminated from view components
- D3 type safety issues are resolved with established patterns
- Overall TypeScript compilation error count is significantly reduced
- Components maintain full functionality while achieving clean compilation
</success_criteria>

<output>
After completion, create `.planning/phases/32-multi-environment-debugging/32-11-SUMMARY.md`
</output>