---
phase: 32-multi-environment-debugging
plan: 02
type: execute
wave: 1
depends_on: []
files_modified: [
  "src/components/debug/GraphAnalyticsDebugPanel.tsx",
  "src/components/debug/WebViewDiagnostic.tsx",
  "src/components/performance/PerformanceBaseline.tsx",
  "src/components/performance/RealTimeRenderer.tsx",
  "src/components/DataFlowMonitor.tsx"
]
autonomous: true

must_haves:
  truths:
    - "TypeScript compilation passes without errors"
    - "All unused imports and variables removed"
    - "Type safety enforced across React components"
  artifacts:
    - path: "src/components/debug/GraphAnalyticsDebugPanel.tsx"
      provides: "Clean TypeScript compilation"
      min_lines: 600
    - path: "src/components/performance/PerformanceBaseline.tsx"
      provides: "Proper D3 container type handling"
      min_lines: 150
    - path: "src/components/performance/RealTimeRenderer.tsx"
      provides: "Performance optimization flags usage"
      min_lines: 500
  key_links:
    - from: "GraphAnalyticsDebugPanel.tsx"
      to: "graph analytics hooks"
      via: "proper hook imports"
      pattern: "useGraphMetrics|useGraphAnalyticsDebug"
    - from: "PerformanceBaseline.tsx"
      to: "D3 container ref"
      via: "HTMLElement type compatibility"
      pattern: "RefObject<HTMLDivElement>"
---

<objective>
Fix TypeScript compilation errors and improve type safety across React components

Purpose: Eliminate TS errors, remove unused code, and ensure type compatibility for D3 integration
Output: Clean TypeScript compilation with proper type checking
</objective>

<execution_context>
@/Users/mshaler/.claude/get-shit-done/workflows/execute-plan.md
@/Users/mshaler/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Clean up GraphAnalyticsDebugPanel TypeScript errors</name>
  <files>src/components/debug/GraphAnalyticsDebugPanel.tsx</files>
  <action>
    Fix all TypeScript errors in GraphAnalyticsDebugPanel:
    1. Remove unused imports (line 2)
    2. Remove unused 'theme' variable (line 85)
    3. Create or import missing 'useGraphMetrics' and 'useGraphAnalyticsDebug' hooks
    4. Fix CacheBreakdown type incompatibility - ensure hitRate is number, not unknown
    5. Fix ReactNode type compatibility for dynamic content
    6. Add clearCache method to ConnectionSuggestionService or handle its absence
    7. Add proper types for 'opt' and 'index' parameters (lines 663)
    8. Remove unused 'cache' variable (line 234)

    If hooks don't exist, create stub implementations with proper TypeScript signatures to maintain component functionality.
  </action>
  <verify>npx tsc --noEmit --include "src/components/debug/GraphAnalyticsDebugPanel.tsx" | grep -c "error TS" | test $(cat) -eq 0</verify>
  <done>GraphAnalyticsDebugPanel.tsx compiles without TypeScript errors</done>
</task>

<task type="auto">
  <name>Task 2: Fix performance component TypeScript issues</name>
  <files>src/components/performance/PerformanceBaseline.tsx, src/components/performance/RealTimeRenderer.tsx</files>
  <action>
    Fix TypeScript errors in performance components:

    PerformanceBaseline.tsx:
    1. Remove unused React import if not needed for JSX
    2. Remove unused 'LiveDataPerformanceMetrics' import
    3. Either use or remove 'stressTest', 'healthScore', 'isHealthy', 'errorRate' variables
    4. Fix D3 container ref type compatibility - convert RefObject<HTMLDivElement> to HTMLElement
    5. Remove unused 'renderStartTime' variable

    RealTimeRenderer.tsx:
    1. Use performance optimization flags ('maxNodes', 'enableLOD', 'enableProgressiveRendering', etc.) or remove them
    2. Remove unused 'container' parameter if not needed
    3. Ensure all declared performance variables serve a purpose in the rendering pipeline

    Focus on maintaining D3 integration functionality while fixing type issues.
  </action>
  <verify>npx tsc --noEmit --include "src/components/performance/*.tsx" | grep -c "error TS" | test $(cat) -eq 0</verify>
  <done>Performance components compile without TypeScript errors and maintain D3 functionality</done>
</task>

<task type="auto">
  <name>Task 3: Clean up remaining component TypeScript issues</name>
  <files>src/components/debug/WebViewDiagnostic.tsx, src/components/DataFlowMonitor.tsx, src/components/Navigator.tsx</files>
  <action>
    Fix remaining TypeScript errors:

    WebViewDiagnostic.tsx:
    1. Remove unused React import if not using JSX features requiring it

    DataFlowMonitor.tsx:
    1. Remove unused 'state' variable or integrate it into component logic

    Navigator.tsx:
    1. Remove unused 'PAFVNavigator' import

    Ensure all changes maintain existing functionality while eliminating TypeScript compiler warnings and errors.
  </action>
  <verify>npx tsc --noEmit --include "src/components/debug/WebViewDiagnostic.tsx" --include "src/components/DataFlowMonitor.tsx" --include "src/components/Navigator.tsx" | grep -c "error TS" | test $(cat) -eq 0</verify>
  <done>All specified components compile without TypeScript errors</done>
</task>

</tasks>

<verification>
Run: npx tsc --noEmit
- Zero TypeScript compilation errors
- All unused variables and imports removed
- Type safety maintained for D3 integration
</verification>

<success_criteria>
- Clean TypeScript compilation across all React components
- No unused imports or variables
- D3 integration types properly handled
- Component functionality preserved during cleanup
</success_criteria>

<output>
After completion, create `.planning/phases/32-multi-environment-debugging/32-02-SUMMARY.md`
</output>