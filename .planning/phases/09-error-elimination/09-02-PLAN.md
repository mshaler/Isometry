---
phase: 09-error-elimination
plan: 02
type: execute
wave: 1
depends_on: []
files_modified: [
  "src/__tests__/mvp-integration.test.tsx",
  "src/__tests__/MVPDemo.test.tsx",
  "src/__tests__/unified-app-integration.test.tsx",
  "vitest.config.ts",
  "src/vitest-setup.ts"
]
autonomous: true

must_haves:
  truths:
    - "All test files have proper type definitions"
    - "Test global functions are properly declared"
    - "TypeScript compilation succeeds for all test files"
  artifacts:
    - path: "vitest.config.ts"
      provides: "Vitest configuration with globals"
      min_lines: 15
    - path: "src/vitest-setup.ts"
      provides: "Test setup and global definitions"
      min_lines: 10
  key_links:
    - from: "vitest.config.ts"
      to: "test files"
      via: "globals configuration"
      pattern: "globals.*true"
    - from: "src/vitest-setup.ts"
      to: "test globals"
      via: "setupFiles import"
      pattern: "setupFiles.*vitest-setup"
---

<objective>
Fix TypeScript compilation errors in test files by properly configuring Vitest globals and test type definitions.

Purpose: Eliminate the 30+ TypeScript errors preventing clean builds and deployments.
Output: Test suite with proper type definitions and zero TypeScript compilation errors.
</objective>

<execution_context>
@/Users/mshaler/.claude/get-shit-done/workflows/execute-plan.md
@/Users/mshaler/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
</context>

<tasks>

<task type="auto">
  <name>Configure Vitest globals and test environment</name>
  <files>
    vitest.config.ts
    src/vitest-setup.ts
  </files>
  <action>
    Configure proper Vitest environment with global test functions:

    1. Update vitest.config.ts:
    - Add `globals: true` to enable global test functions (describe, it, expect)
    - Configure proper test environment (jsdom)
    - Add setupFiles configuration for test setup
    - Ensure proper TypeScript integration

    2. Create src/vitest-setup.ts:
    - Import @testing-library/jest-dom for extended matchers
    - Set up any global test configuration
    - Configure mock implementations if needed
    - Add any custom test utilities

    This will eliminate the "Cannot find name 'describe/it/expect'" errors by properly configuring Vitest globals.
  </action>
  <verify>npm run typecheck shows no test global function errors</verify>
  <done>Vitest properly configured with globals and test environment setup</done>
</task>

<task type="auto">
  <name>Clean up test files and remove unused imports</name>
  <files>
    src/__tests__/mvp-integration.test.tsx
    src/__tests__/MVPDemo.test.tsx
    src/__tests__/unified-app-integration.test.tsx
  </files>
  <action>
    Fix test file issues and remove unused imports:

    1. Remove unused imports:
    - Remove `fireEvent` imports where not used
    - Remove `waitFor` imports where not used
    - Keep only necessary testing library imports

    2. Ensure proper test structure:
    - Verify describe/it blocks are properly structured
    - Add missing async/await where needed for async tests
    - Ensure all expect statements have proper assertions

    3. Update imports to match actual usage:
    - Only import testing utilities that are actually used
    - Add proper type imports if needed
    - Remove commented-out or debug imports

    Focus on eliminating unused variable warnings and ensuring proper test structure.
  </action>
  <verify>npm run lint shows no unused variable warnings in test files</verify>
  <done>Test files have clean imports and proper structure</done>
</task>

<task type="auto">
  <name>Update TypeScript configuration for test files</name>
  <files>
    tsconfig.json
  </files>
  <action>
    Update TypeScript configuration to properly handle test files:

    1. Ensure test file patterns are included in compilation
    2. Add proper type references for Vitest globals
    3. Configure module resolution for test utilities
    4. Add any necessary compiler options for test environment

    If tsconfig.json needs vitest types, add them to the types array. Ensure test files are properly included in TypeScript compilation scope.
  </action>
  <verify>npm run typecheck passes for all test files</verify>
  <done>TypeScript properly configured for test environment</done>
</task>

</tasks>

<verification>
- npm run typecheck should pass without test-related TypeScript errors
- npm run lint should show significantly fewer warnings
- npm test should run without compilation errors
</verification>

<success_criteria>
- Zero TypeScript compilation errors for test files
- Proper Vitest globals configuration
- Clean test file imports with no unused variables
- All test files properly type-checked
</success_criteria>

<output>
After completion, create `.planning/phases/09-error-elimination/09-02-SUMMARY.md`
</output>