---
phase: 30
plan: 30-03
type: checkpoint:human-verify
autonomous: false
wave: 3
title: "User Interfaces for Web Clipping in React and Native Platforms"
estimated_duration: "90-120 minutes"
dependencies: ["30-01", "30-02"]
verification: true
---

# Wave 3: User Interfaces for Web Clipping in React and Native Platforms

**Goal:** Create user interfaces for web clipping workflow in both React frontend and SwiftUI native platforms with proper UX for URL input, progress feedback, and content preview.

**Wave:** 3 of 4 (extraction → caching → UI → integration)
**Type:** checkpoint:human-verify
**Duration:** 90-120 minutes
**Dependencies:** Waves 1-2 (30-01, 30-02) - Core infrastructure and advanced features

## Context Files

@.planning/phases/30-html-web-clipper-pipeline/30-01-PLAN.md - Wave 1 implementation
@.planning/phases/30-html-web-clipper-pipeline/30-02-PLAN.md - Wave 2 implementation
@src/components/import/ - Existing import UI patterns
@native/Sources/Isometry/Views/ - Native SwiftUI view patterns

## Objective

Create user-friendly interfaces for web clipping that:
- Provide URL input with validation and preview
- Show real-time progress during content extraction
- Display content preview before saving
- Handle errors gracefully with retry options
- Follow established UI patterns in both platforms

## Tasks

### Task 1: React Web Clipper Interface
**Type:** auto
**Description:** Create React components for web clipping workflow including URL input, progress feedback, and content preview.

**Implementation:**
- Create WebClipperModal component with URL input form
- Add progress indicator for extraction process
- Implement content preview with metadata display
- Handle validation errors and network issues
- Add save/cancel actions with proper state management
- Follow existing React patterns and Tailwind styling

**Files to create:**
- `src/components/webclipping/WebClipperModal.tsx`
- `src/components/webclipping/URLInput.tsx`
- `src/components/webclipping/ExtractionProgress.tsx`
- `src/components/webclipping/ContentPreview.tsx`
- `src/hooks/useWebClipper.ts`

**Verification:** React interface allows URL input, shows progress, and previews content

### Task 2: SwiftUI Native Interface
**Type:** auto
**Description:** Create SwiftUI views for web clipping in the native macOS/iOS app following platform conventions.

**Implementation:**
- Create WebClipperView with native URL input
- Implement ProgressView for extraction feedback
- Add ContentPreviewView with native styling
- Handle macOS and iOS platform differences
- Follow SwiftUI navigation and modal patterns
- Integrate with existing native app architecture

**Files to create:**
- `native/Sources/Isometry/Views/WebClipperView.swift`
- `native/Sources/Isometry/Views/WebClipContentPreview.swift`
- `native/Sources/Isometry/Views/ExtractionProgressView.swift`

**Verification:** Native interface works on both macOS and iOS with platform-appropriate UX

### Task 3: URL Validation and Preview System
**Type:** auto
**Description:** Implement URL validation, formatting, and quick preview functionality before full extraction.

**Implementation:**
- Validate URL format and accessibility
- Extract basic metadata for quick preview (title, favicon)
- Handle redirects and canonical URLs
- Detect content types (HTML, PDF, etc.)
- Show estimated extraction time
- Provide URL suggestions and auto-completion

**Verification:** URL validation prevents invalid inputs and provides helpful feedback

### Task 4: Error Handling and Retry Logic
**Type:** auto
**Description:** Implement comprehensive error handling with user-friendly messages and retry options.

**Implementation:**
- Handle network timeouts and connection errors
- Manage server errors (403, 404, 500, 429)
- Detect blocked content and robots.txt restrictions
- Provide specific error messages with resolution suggestions
- Implement retry logic with exponential backoff
- Allow manual retry with modified parameters

**Verification:** Error scenarios display helpful messages with actionable retry options

## CHECKPOINT: User Interface Verification

This wave includes a checkpoint for verifying the user interface implementation works correctly across both platforms.

**What will be built:**
- React web clipper interface with URL input, progress, and preview
- SwiftUI native interface for macOS and iOS platforms
- URL validation system with helpful feedback
- Comprehensive error handling with retry options

**How to verify:**

1. **React Interface Testing:**
   - Navigate to web app and open web clipper modal
   - Enter various URLs (valid, invalid, redirects)
   - Observe progress feedback during extraction
   - Verify content preview displays correctly
   - Test error scenarios and retry functionality

2. **Native Interface Testing:**
   - Open native macOS/iOS app
   - Access web clipper interface
   - Test URL input and validation
   - Verify native progress indicators work
   - Confirm content preview follows platform conventions

3. **Cross-platform Consistency:**
   - Verify similar workflow on both platforms
   - Confirm error messages are helpful
   - Test retry logic works as expected
   - Validate accessibility features function properly

## Verification Criteria

1. **React interface follows established patterns**
   - Modal opens/closes smoothly
   - URL input validates and provides feedback
   - Progress indicator shows extraction status
   - Content preview displays metadata and content
   - Error handling provides actionable messages

2. **SwiftUI interface feels native**
   - Follows platform conventions (macOS/iOS)
   - Navigation patterns match system expectations
   - Progress feedback uses native components
   - Content preview respects platform typography
   - Keyboard shortcuts work on macOS

3. **URL validation prevents invalid inputs**
   - Malformed URLs rejected with helpful messages
   - Redirects handled transparently
   - Content type detection works correctly
   - Accessibility checking prevents blocked content
   - Auto-completion suggests valid formats

4. **Error handling guides user resolution**
   - Network errors explain connection issues
   - Server errors provide status code context
   - Robots.txt blocking explained clearly
   - Retry options available for transient errors
   - Manual parameter adjustment possible

## Success Criteria

- Both React and SwiftUI interfaces enable complete web clipping workflow
- URL validation prevents most user errors before extraction
- Progress feedback keeps users informed during processing
- Content preview allows verification before saving
- Error handling provides clear guidance for resolution

## Done Criteria

- [ ] React web clipper interface complete and tested
- [ ] SwiftUI native interface works on macOS and iOS
- [ ] URL validation provides helpful feedback
- [ ] Error handling includes retry options
- [ ] Cross-platform workflow consistency verified