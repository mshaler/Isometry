---
phase: 10-foundation-cleanup
plan: 10
type: execute
wave: 1
depends_on: []
files_modified: [
  "src/config/environment.ts",
  "src/test/setup.ts",
  "src/components/notebook/NotebookContext.tsx",
  "src/components/shell/CommandHistory.tsx",
  "src/components/visualization/VisualizationCanvas.tsx"
]
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "npm run lint shows 0 ESLint warnings (down from 21)"
    - "Zero explicit any types remain in environment config"
    - "Test setup uses proper type definitions instead of any"
  artifacts:
    - path: "src/config/environment.ts"
      provides: "Proper Environment interface types"
      exports: ["EnvironmentConfig", "EnvironmentType"]
    - path: "src/test/setup.ts"
      provides: "Typed test mocking functions"
      exports: ["mockWebKitMessage", "mockSyncEvent"]
  key_links:
    - from: "src/config/environment.ts"
      to: "Environment detection logic"
      via: "typed interface properties"
      pattern: "EnvironmentConfig\\.(platform|runtime)"
    - from: "src/test/setup.ts"
      to: "Test mocking functions"
      via: "proper TypeScript interfaces"
      pattern: "mockWebKitMessage.*MessageEvent"
---

<objective>
Eliminate the final 21 ESLint warnings to achieve absolute zero lint problems, focusing on the 10 explicit any types and 11 unused variable warnings identified in verification.

Purpose: Complete the Phase 10 "absolute zero lint problems" goal by addressing the remaining concentrated issues in environment config, test setup, and unused variables.
Output: Clean codebase with 0 ESLint errors and 0 warnings, achieving the foundation cleanup milestone.
</objective>

<execution_context>
@/Users/mshaler/.claude/get-shit-done/workflows/execute-plan.md
@/Users/mshaler/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/10-foundation-cleanup/10-09-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Replace explicit any types in environment config and test setup</name>
  <files>src/config/environment.ts, src/test/setup.ts</files>
  <action>
    Based on verification gaps, eliminate the final 10 explicit any types:

    Environment Config (2 any types):
    - Create EnvironmentConfig interface with platform, runtime, and context properties
    - Replace any types with proper union types for known environment values
    - Add EnvironmentType enum for platform detection (electron, browser, native)

    Test Setup (8 any types):
    - Create proper interfaces for WebKit message mocking functions
    - Define MessageEvent<T> types for WebView bridge responses
    - Replace (global as any) with proper global interface extensions
    - Add typed mock functions for crypto, performance, and sync events

    Reference existing patterns from 10-09 summary: String() conversion, interface completion, and global interface declarations.
  </action>
  <verify>npm run lint | grep -c "no-explicit-any" || test $? = 1</verify>
  <done>All 10 explicit any type violations eliminated with proper TypeScript interfaces</done>
</task>

<task type="auto">
  <name>Task 2: Clean up unused variables in known problem files</name>
  <files>src/components/notebook/NotebookContext.tsx, src/components/shell/CommandHistory.tsx, src/components/visualization/VisualizationCanvas.tsx</files>
  <action>
    Based on verification gaps, eliminate the 11 unused variable warnings:

    First, identify specific unused variables with: npm run lint | grep "no-unused-vars"

    For each unused variable discovered:
    - If genuinely unused: Remove the variable declaration
    - If intentionally unused (API compliance): Prefix with underscore (_variableName)
    - If callback parameter: Use underscore prefix to indicate intentional non-use
    - If destructuring: Use rest syntax (...rest) or specific property extraction

    Focus on the three known problem files listed above, then scan for any additional files with unused variable warnings and apply the same fixes.
    Maintain all existing functionality while eliminating warnings.
  </action>
  <verify>npm run lint | grep -c "no-unused-vars" || test $? = 1</verify>
  <done>All 11 unused variable warnings eliminated without breaking functionality</done>
</task>

<task type="auto">
  <name>Task 3: Validate absolute zero ESLint achievement and test suite</name>
  <files></files>
  <action>
    Comprehensive validation of Phase 10 gap closure success:

    1. Run complete lint check: npm run lint
    2. Verify output shows: "✖ 0 problems (0 errors, 0 warnings)"
    3. Run test suite to ensure no regressions: npm test
    4. Test production build still functions: npm run build
    5. Generate compliance report showing before/after metrics

    Compare against verification baseline:
    - Before: 52 total problems → After: 0 problems (100% elimination)
    - Before: 37 explicit any types → After: 0 explicit any types (100% elimination)
    - Before: 21 warnings → After: 0 warnings (100% elimination)

    Document the successful achievement of "absolute zero lint problems" goal.
  </action>
  <verify>npm run lint && npm test</verify>
  <done>Phase 10 "absolute zero lint problems" goal completely achieved with test suite validation</done>
</task>

</tasks>

<verification>
- `npm run lint` returns exactly "✖ 0 problems (0 errors, 0 warnings)"
- `npm run build` completes successfully with no warnings
- `npm test` passes all 471 tests
- All explicit any types eliminated from src/config/environment.ts and src/test/setup.ts
- Zero unused variable warnings remain in codebase
</verification>

<success_criteria>
Absolute zero ESLint problems achieved as measurable completion of Phase 10 Foundation Cleanup goal. Clean, type-safe codebase ready for Phase 11 Type Safety Migration with no technical debt from lint violations.
</success_criteria>

<output>
After completion, create `.planning/phases/10-foundation-cleanup/10-10-SUMMARY.md`
</output>