---
phase: 10-foundation-cleanup
plan: 18
type: execute
wave: 2
depends_on: [10-16]
files_modified:
  - src/hooks/useD3Canvas.ts
  - src/utils/d3Testing.ts
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "D3 hook utilities have zero unused imports or variables"
    - "D3 testing utilities are completely clean of lint warnings"
    - "All D3 related code follows established cleanup patterns"
  artifacts:
    - path: "src/hooks/useD3Canvas.ts"
      provides: "Clean D3 canvas hook without warnings"
      contains: "proper import and variable usage"
    - path: "src/utils/d3Testing.ts"
      provides: "Clean D3 testing utilities"
      contains: "type-safe testing helpers"
  key_links:
    - from: "src/hooks/useD3Canvas.ts"
      to: "src/utils/d3Performance.ts"
      via: "typed performance metrics usage"
      pattern: "D3PerformanceMetrics"
---

<objective>
Eliminate remaining ESLint warnings from D3 hook and testing utilities

Purpose: Complete the cleanup of D3-related utilities that have accumulated warnings during performance monitoring development
Output: 17 remaining warnings eliminated from D3 integration code
</objective>

<execution_context>
@/Users/mshaler/.claude/get-shit-done/workflows/execute-plan.md
@/Users/mshaler/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/10-foundation-cleanup/10-RESEARCH.md
@.planning/phases/10-foundation-cleanup/10-VERIFICATION.md
@.planning/phases/10-foundation-cleanup/10-16-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Clean up useD3Canvas hook warnings</name>
  <files>src/hooks/useD3Canvas.ts</files>
  <action>
    Eliminate 9 warnings in useD3Canvas.ts including unused imports, explicit any, and unused parameters:

    1. Remove unused React hooks imports (if useState/useEffect not actually used)
    2. Remove unused D3 utility imports
    3. Use D3PerformanceMetrics interface from Plan 10-16 instead of any types
    4. Clean up unused variables in canvas setup and event handling
    5. Prefix unused but required callback parameters with underscore
    6. Remove any debug/development variables left from recent work

    Gap reason: "9 warnings including unused imports, explicit any, unused parameters"
    Reference: Use D3PerformanceMetrics interface created in Plan 10-16 for type safety
  </action>
  <verify>npm run lint src/hooks/useD3Canvas.ts 2>&1 | grep -E "(no-unused-vars|no-explicit-any)" | wc -l</verify>
  <done>Zero ESLint warnings in useD3Canvas.ts (was 9)</done>
</task>

<task type="auto">
  <name>Clean up D3 testing utilities</name>
  <files>src/utils/d3Testing.ts</files>
  <action>
    Apply systematic cleanup to D3 testing utilities:

    1. Remove unused testing library imports
    2. Remove unused variables in test helper functions
    3. Use proper typing for D3 test mocks (avoid any types)
    4. Clean up unused parameters in testing callbacks
    5. Remove commented-out test code contributing to warnings
    6. Use underscore prefix for required but unused test parameters

    Gap reason: "Explicit any and unused vars in d3Testing utilities"
    Pattern: Follow testing cleanup patterns established in Phase 10 for other test files
  </action>
  <verify>npm run lint src/utils/d3Testing.ts 2>&1 | grep -E "(no-unused-vars|no-explicit-any)" | wc -l</verify>
  <done>Zero ESLint warnings in d3Testing.ts</done>
</task>

</tasks>

<verification>
Comprehensive D3 utilities check:
- npm run lint src/hooks/useD3Canvas.ts src/utils/d3Testing.ts 2>&1 | wc -l (should be ~3 for header info only)
- Verify D3PerformanceMetrics interface is properly imported and used
- Confirm total warning count approaches zero target
</verification>

<success_criteria>
- All 9 warnings eliminated from useD3Canvas.ts hook
- D3 testing utilities completely clean of warnings
- Proper usage of D3PerformanceMetrics interface from Plan 10-16
- Zero unused variables, imports, or explicit any types in D3 utilities
- Total ESLint warning count significantly reduced (target: under 10 remaining)
</success_criteria>

<output>
After completion, create `.planning/phases/10-foundation-cleanup/10-18-SUMMARY.md`
</output>