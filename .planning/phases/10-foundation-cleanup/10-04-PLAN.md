---
phase: 10-foundation-cleanup
plan: 04
type: execute
wave: 1
depends_on: []
files_modified: [
  "src/dsl/grammar/parser.cjs",
  "src/hooks/__tests__/useCacheInvalidation.test.tsx",
  "src/hooks/useCacheInvalidation.tsx",
  "eslint.config.js"
]
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "npm run lint returns '✖ 0 problems (0 errors, 0 warnings)'"
    - "All 14 ESLint errors in parser.cjs completely eliminated"
    - "ESLint configuration handles generated parser files correctly"
  artifacts:
    - path: "src/dsl/grammar/parser.cjs"
      provides: "Clean parser file with no ESLint violations"
      min_lines: 1500
    - path: "eslint.config.js"
      provides: "ESLint configuration with parser.cjs exclusion"
      contains: "parser.cjs"
    - path: "src/hooks/useCacheInvalidation.tsx"
      provides: "Clean hook with no unused imports"
      exports: ["useCacheInvalidation"]
  key_links:
    - from: "eslint.config.js"
      to: "src/dsl/grammar/parser.cjs"
      via: "file pattern exclusion"
      pattern: "parser\\.cjs"
    - from: "ESLint"
      to: "source files"
      via: "zero problem validation"
      pattern: "✖ 0 problems"
---

<objective>
Restore ESLint zero-problem state by eliminating regression errors in parser.cjs and cleaning up unused imports

Purpose: Fix critical ESLint regression that introduced 15 problems and blocks absolute zero lint goal
Output: Restored zero ESLint problems state (✖ 0 problems) with clean parser configuration
</objective>

<execution_context>
@/Users/mshaler/.claude/get-shit-done/workflows/execute-plan.md
@/Users/mshaler/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/10-foundation-cleanup/10-03-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Fix ESLint configuration for parser.cjs exclusion</name>
  <files>eslint.config.js</files>
  <action>
    Add exclusion pattern for generated parser.cjs file to ESLint configuration. The parser.cjs is a generated file from grammar tooling and should not be linted with standard rules.

    Add to eslint.config.js:
    - Exclude pattern: "**/parser.cjs" or "src/dsl/grammar/parser.cjs"
    - Ensure exclusion applies to all ESLint rules
    - Maintain existing browser/node environment configurations

    Gap reason: Generated parser file has 12 ESLint violations including unused vars, control chars, and undefined 'module' - standard for generated code that shouldn't be manually linted.
  </action>
  <verify>npm run lint | grep -E "(✖|problems|errors|warnings)"</verify>
  <done>ESLint configuration excludes parser.cjs and problem count reduces significantly</done>
</task>

<task type="auto">
  <name>Fix ESLint test configuration error</name>
  <files>src/hooks/__tests__/useCacheInvalidation.test.tsx</files>
  <action>
    Resolve ESLint rule configuration error for react/display-name in test file. Check the test file for any ESLint rule override or configuration that's causing parser errors.

    Fix approaches:
    - Remove any malformed ESLint rule comments
    - Ensure react/display-name rule syntax is correct
    - If test component has no display name needed, add proper eslint-disable comment

    Gap reason: ESLint rule definition error preventing proper parsing of test file.
  </action>
  <verify>npm run lint src/hooks/__tests__/useCacheInvalidation.test.tsx</verify>
  <done>Test file lints cleanly without rule configuration errors</done>
</task>

<task type="auto">
  <name>Remove unused useMemo import</name>
  <files>src/hooks/useCacheInvalidation.tsx</files>
  <action>
    Remove unused useMemo import from React imports in useCacheInvalidation hook file.

    Steps:
    - Check current React imports: import { useMemo, ... } from 'react'
    - Remove useMemo from import if not used in file
    - Clean up import statement formatting
    - Ensure no other unused imports remain

    Gap reason: Unused useMemo import warning blocking zero-warning goal.
  </action>
  <verify>npm run lint src/hooks/useCacheInvalidation.tsx</verify>
  <done>Hook file has no unused import warnings</done>
</task>

</tasks>

<verification>
Run comprehensive ESLint check:
- `npm run lint` returns "✖ 0 problems (0 errors, 0 warnings)"
- All parser.cjs errors eliminated through exclusion
- Test configuration errors resolved
- Unused imports cleaned up
</verification>

<success_criteria>
ESLint regression completely resolved:
1. Zero problems reported by npm run lint
2. Parser.cjs properly excluded from linting
3. Test configuration errors fixed
4. All import warnings eliminated
5. Ready for TypeScript strict mode focus
</success_criteria>

<output>
After completion, create `.planning/phases/10-foundation-cleanup/10-04-SUMMARY.md`
</output>