---
phase: 01-notebook-foundation
plan: 03
type: execute
wave: 3
depends_on: ["01-02"]
files_modified: [
  "src/components/notebook/NotebookLayout.tsx",
  "src/components/notebook/CaptureComponent.tsx",
  "src/components/notebook/ShellComponent.tsx",
  "src/components/notebook/PreviewComponent.tsx",
  "src/App.tsx"
]
autonomous: false

must_haves:
  truths:
    - "Three-component layout renders with responsive design"
    - "Components are positioned and resizable"
    - "Layout adapts to desktop screen sizes"
  artifacts:
    - path: "src/components/notebook/NotebookLayout.tsx"
      provides: "Main layout component"
      exports: ["NotebookLayout"]
      min_lines: 80
    - path: "src/components/notebook/CaptureComponent.tsx"
      provides: "Capture component shell"
      exports: ["CaptureComponent"]
      min_lines: 30
    - path: "src/components/notebook/ShellComponent.tsx"
      provides: "Shell component shell"
      exports: ["ShellComponent"]
      min_lines: 30
    - path: "src/components/notebook/PreviewComponent.tsx"
      provides: "Preview component shell"
      exports: ["PreviewComponent"]
      min_lines: 30
    - path: "src/App.tsx"
      provides: "Notebook layout integration"
      contains: "NotebookLayout"
  key_links:
    - from: "src/components/notebook/NotebookLayout.tsx"
      to: "src/contexts/NotebookContext.tsx"
      via: "useNotebook hook"
      pattern: "useNotebook"
    - from: "src/App.tsx"
      to: "src/components/notebook/NotebookLayout.tsx"
      via: "notebook mode rendering"
      pattern: "NotebookLayout"
---

<objective>
Implement three-component layout with responsive design and basic component shells for Capture, Shell, and Preview.

Purpose: Create working layout foundation that users can see and interact with
Output: Functional three-component layout with placeholder content and responsive behavior
</objective>

<execution_context>
@/Users/mshaler/.claude/get-shit-done/workflows/execute-plan.md
@/Users/mshaler/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/phases/01-notebook-foundation/01-02-SUMMARY.md
@/Users/mshaler/Developer/Projects/Isometry/src/App.tsx
@/Users/mshaler/Developer/Projects/Isometry/src/contexts/NotebookContext.tsx
@/Users/mshaler/Developer/Projects/Isometry/src/contexts/ThemeContext.tsx
@/Users/mshaler/Developer/Projects/Isometry/src/components/Sidebar.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create component shell files</name>
  <files>
    src/components/notebook/CaptureComponent.tsx,
    src/components/notebook/ShellComponent.tsx,
    src/components/notebook/PreviewComponent.tsx
  </files>
  <action>
    Create three basic component shells with consistent structure:

    CaptureComponent:
    - Header with title "Capture" and minimize/maximize controls
    - Placeholder content area with markdown editor mockup
    - Properties panel placeholder (collapsed by default)
    - Use theme-aware styling with useTheme hook

    ShellComponent:
    - Header with title "Shell" and terminal-style controls
    - Mock terminal interface with command prompt
    - Status indicator for Claude Code connection
    - Dark terminal-like styling regardless of theme

    PreviewComponent:
    - Header with title "Preview" and refresh/fullscreen controls
    - Placeholder browser-like interface
    - Address bar mockup showing current preview type
    - Content area with sample preview message

    All components should:
    - Accept className prop for layout positioning
    - Use consistent header height (40px) and padding
    - Include hover effects on interactive elements
    - Be responsive with minimum widths (300px)
  </action>
  <verify>
    Run `npm run typecheck` to ensure TypeScript compilation.
    Verify each component exports correctly and accepts className prop.
    Check that theme integration works with both NeXTSTEP and Modern themes.
  </verify>
  <done>Three component shells render with consistent styling and placeholder content</done>
</task>

<task type="auto">
  <name>Task 2: Create responsive three-component layout</name>
  <files>src/components/notebook/NotebookLayout.tsx</files>
  <action>
    Create NotebookLayout component with responsive three-component design:

    Layout specifications:
    - Desktop (>= 1024px): Three columns side-by-side
      - Capture: 40% width (min 400px)
      - Shell: 30% width (min 300px)
      - Preview: 30% width (min 300px)
    - Tablet (768-1023px): Capture top, Shell/Preview side-by-side bottom
    - Mobile (< 768px): Stack all three vertically

    Features:
    - Resizable column dividers using mouse drag
    - Persist column widths in localStorage via NotebookContext
    - Keyboard shortcuts: Cmd/Ctrl + 1/2/3 to focus components
    - Component minimize/maximize functionality
    - Smooth transitions for layout changes

    Use Tailwind CSS grid and flexbox for layout.
    Integrate with useNotebook hook for layout state management.
    Handle resize events to maintain responsive behavior.
  </action>
  <verify>
    Test layout at different screen sizes in browser dev tools.
    Verify column resizing works with mouse drag.
    Check that layout state persists after page refresh.
    Ensure keyboard shortcuts focus correct components.
  </verify>
  <done>Responsive three-component layout works across all screen sizes with resizable columns</done>
</task>

<task type="auto">
  <name>Task 3: Replace notebook placeholder with NotebookLayout</name>
  <files>src/App.tsx</files>
  <action>
    Replace the placeholder notebook content in App.tsx with NotebookLayout:

    1. Import NotebookLayout component
    2. Replace the placeholder div with:
       ```tsx
       ) : viewMode === 'notebook' ? (
         <NotebookLayout />
       ```
    3. Remove the placeholder content and styling
    4. Ensure NotebookLayout receives full available height (flex-1)

    Verify the notebook button still works and NotebookLayout renders properly.
  </action>
  <verify>
    Run `npm run dev` and click "Notebook" button.
    Verify three-component layout displays correctly.
    Test switching between different view modes.
    Check that layout takes full available height.
  </verify>
  <done>Main app renders complete notebook layout when notebook mode is selected</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 4: Verify responsive layout and visual design</name>
  <what-built>Three-component notebook layout with Capture, Shell, and Preview components</what-built>
  <how-to-verify>
    1. Start development server: `npm run dev`
    2. Navigate to app in browser
    3. Click "Notebook" button to enter notebook mode
    4. Verify three components display side-by-side on desktop
    5. Test column resizing by dragging dividers
    6. Test responsive behavior:
       - Resize browser window to tablet size (768-1023px)
       - Verify layout stacks appropriately
       - Resize to mobile size (<768px)
       - Verify vertical stacking works
    7. Switch between NeXTSTEP and Modern themes
    8. Verify layout state persists after page refresh
    9. Test keyboard shortcuts (Cmd/Ctrl + 1/2/3)
  </how-to-verify>
  <resume-signal>Type "approved" if layout works correctly, or describe issues that need fixing</resume-signal>
</task>

</tasks>

<verification>
1. Three components render in responsive layout
2. Layout adapts correctly to different screen sizes
3. Column resizing works smoothly with mouse interaction
4. Layout state persists across browser sessions
5. Theme integration works with both NeXTSTEP and Modern styles
6. Keyboard shortcuts provide component focus
</verification>

<success_criteria>
1. User sees three-component layout when selecting notebook mode
2. Layout is responsive and works on desktop screens
3. Components can be resized and layout state persists
4. Visual design is consistent with main application theme
5. No breaking changes to existing application functionality
</success_criteria>

<output>
After completion, create `.planning/phases/01-notebook-foundation/01-03-SUMMARY.md`
</output>