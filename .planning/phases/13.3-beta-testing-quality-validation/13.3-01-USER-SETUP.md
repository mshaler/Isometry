# Phase 13.3 User Setup (TestFlight External Beta)

## Environment Variables
Set these before running the beta-only pipeline:

- `APPLE_DEVELOPER_TEAM_ID` — Apple Developer Account → Membership → Team ID
- `ASC_API_KEY_ID` — App Store Connect → Users and Access → Keys
- `ASC_API_ISSUER_ID` — App Store Connect → Users and Access → Keys
- `ASC_API_KEY_PATH` — Local path to `AuthKey_XXXX.p8`

Example:
```
export APPLE_DEVELOPER_TEAM_ID="YOUR_TEAM_ID"
export ASC_API_KEY_ID="YOUR_KEY_ID"
export ASC_API_ISSUER_ID="YOUR_ISSUER_ID"
export ASC_API_KEY_PATH="$HOME/.appstoreconnect/AuthKey_XXXX.p8"
```

## App Store Connect Steps
1) App Store Connect → My Apps → Isometry → TestFlight
2) Beta App Review Info → add contact + review notes
3) External Testing → create group (e.g., "Isometry Beta")
4) Testers → add external tester emails
5) Builds → submit latest beta build for TestFlight review
6) When review completes, enable External Testing for the build

## Verification Commands
- Beta-only upload:
  - `./scripts/build-and-upload-appstore.sh --beta-only`
- Inspect local logs:
  - `.build-artifacts/app-store-upload-YYYYMMDD-HHMMSS.log`

## Validation Checklist
- Build status in TestFlight shows "Ready to Test"
- External testers can install and launch the app
- Feedback entry points visible to testers (TestFlight + in-app)

## Troubleshooting
- Missing Team ID: verify membership in Apple Developer Account
- API key errors: confirm key is active and not expired
- Upload failures: retry with Xcode authentication if API key not configured
