---
phase: 102-sample-data-test-cleanup
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/db/sample-data.ts
autonomous: true

must_haves:
  truths:
    - "FACETS_SEED_SQL seeds only universal facets (folder, tags, created, modified, due, name, location)"
    - "Sample data includes nodes with null priority (realistic imports)"
    - "Sample data includes mix of nodes with/without priority values"
  artifacts:
    - path: "src/db/sample-data.ts"
      provides: "Sample data without hardcoded app-specific facets"
      contains: "FACETS_SEED_SQL"
  key_links:
    - from: "src/db/sample-data.ts"
      to: "src/db/SQLiteProvider.tsx"
      via: "FACETS_SEED_SQL import"
      pattern: "FACETS_SEED_SQL"
---

<objective>
Remove hardcoded status/priority facets from FACETS_SEED_SQL and update sample data to use realistic priority values reflecting schema-on-read imports.

Purpose: Phase 100-101 established dynamic discovery from live data. Sample data should no longer seed app-specific facets (status, priority) that contradict this philosophy. Real-world imports (Apple Notes, Safari bookmarks) don't have status/priority columns.

Output: Updated `src/db/sample-data.ts` with universal-only facets and realistic sample data.
</objective>

<execution_context>
@/Users/mshaler/.claude/get-shit-done/workflows/execute-plan.md
@/Users/mshaler/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/102-sample-data-test-cleanup/102-RESEARCH.md
@src/db/sample-data.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove status/priority facets from FACETS_SEED_SQL</name>
  <files>src/db/sample-data.ts</files>
  <action>
Edit FACETS_SEED_SQL to remove the status and priority facet rows.

Before (lines 205-214):
```sql
INSERT OR IGNORE INTO facets (id, name, facet_type, axis, source_column) VALUES
    ('folder', 'Folder', 'select', 'C', 'folder'),
    ('tags', 'Tags', 'multi_select', 'C', 'tags'),
    ('status', 'Status', 'select', 'C', 'status'),      -- REMOVE
    ('priority', 'Priority', 'number', 'H', 'priority'), -- REMOVE
    ('created', 'Created', 'date', 'T', 'created_at'),
    ('modified', 'Modified', 'date', 'T', 'modified_at'),
    ('due', 'Due Date', 'date', 'T', 'due_at'),
    ('name', 'Name', 'text', 'A', 'name'),
    ('location', 'Location', 'location', 'L', 'location_name');
```

After:
```sql
INSERT OR IGNORE INTO facets (id, name, facet_type, axis, source_column) VALUES
    ('folder', 'Folder', 'select', 'C', 'folder'),
    ('tags', 'Tags', 'multi_select', 'C', 'tags'),
    ('created', 'Created', 'date', 'T', 'created_at'),
    ('modified', 'Modified', 'date', 'T', 'modified_at'),
    ('due', 'Due Date', 'date', 'T', 'due_at'),
    ('name', 'Name', 'text', 'A', 'name'),
    ('location', 'Location', 'location', 'L', 'location_name');
```

This removes 2 rows (status, priority), leaving 7 universal facets.
  </action>
  <verify>
    grep -c "INSERT OR IGNORE INTO facets" src/db/sample-data.ts
    # Should show 1 (the single INSERT statement)
    grep "status.*Status.*select" src/db/sample-data.ts
    # Should return empty (no match)
    grep "priority.*Priority.*number" src/db/sample-data.ts
    # Should return empty (no match)
  </verify>
  <done>FACETS_SEED_SQL contains exactly 7 universal facets, no status or priority</done>
</task>

<task type="auto">
  <name>Task 2: Update sample data to use realistic priority values</name>
  <files>src/db/sample-data.ts</files>
  <action>
Update SAMPLE_NOTES, SAMPLE_CONTACTS, and SAMPLE_BOOKMARKS to reflect realistic schema-on-read imports.

**Key changes:**

1. **Make priority optional in SampleNote interface** (line 9):
```typescript
interface SampleNote {
  id: string;
  name: string;
  content: string;
  folder: string;
  tags: string[];
  priority: number | null;  // CHANGE: Allow null
  createdDaysAgo: number;
}
```

2. **Update SAMPLE_NOTES (lines 13-52)** - Use null for some priorities to simulate imported Apple Notes:
- Keep priority for some (user-created tasks with explicit priority)
- Use null for others (imported notes without priority)
- For notes that keep priority, vary the range (not just 0-5)

Example updates:
```typescript
// Imported-style notes (no priority)
{ id: 'n001', ..., priority: null, ... },
{ id: 'n003', ..., priority: null, ... },

// User-created with priority (varied range)
{ id: 'n002', ..., priority: 8, ... },  // Outside 0-5 range
{ id: 'n006', ..., priority: 10, ... }, // High priority

// Archive (no priority)
{ id: 'n024', ..., priority: null, ... },
{ id: 'n025', ..., priority: null, ... },
```

3. **Update SAMPLE_CONTACTS and SAMPLE_BOOKMARKS** - Use null priority for all (contacts and bookmarks don't have priority):
```typescript
// SampleContact interface (line 92):
priority: number | null;

// SampleBookmark interface (line 126):
priority: number | null;

// All contacts use null:
{ id: 'c001', ..., priority: null, ... },

// All bookmarks use null:
{ id: 'b001', ..., priority: null, ... },
```

4. **Update generateAllNotes() (lines 65-83)** - Use null for some generated notes:
```typescript
priority: Math.random() < 0.4 ? null : Math.floor(Math.random() * 10) + 1,
```
This makes ~40% of generated notes have null priority, reflecting realistic imports.

5. **Update NODES_SQL generation (lines 218-237)** - Handle null priority:
```typescript
${node.priority === null ? 'NULL' : node.priority},
```
  </action>
  <verify>
    npm run typecheck
    # Should pass with no errors
    grep "priority: null" src/db/sample-data.ts
    # Should find multiple occurrences (realistic imports)
    grep "priority: 10" src/db/sample-data.ts
    # Should find at least one (varied range, not constrained to 0-5)
  </verify>
  <done>Sample data includes realistic mix of null and varied priority values reflecting schema-on-read imports</done>
</task>

</tasks>

<verification>
After both tasks:
1. `npm run typecheck` passes
2. FACETS_SEED_SQL has exactly 7 facet rows (not 9)
3. SAMPLE_NOTES includes nodes with `priority: null`
4. SAMPLE_CONTACTS and SAMPLE_BOOKMARKS all have `priority: null`
5. Generated notes include mix of null and non-null priorities
</verification>

<success_criteria>
- [ ] SAMPLE-01: FACETS_SEED_SQL seeds only 7 universal facets (status/priority removed)
- [ ] SAMPLE-02: Sample notes use null or varied priority values (not hardcoded 0-5)
- [ ] SAMPLE-03: Sample data reflects realistic schema-on-read imports (bookmarks, contacts without priority)
- [ ] TypeScript compilation passes
- [ ] No runtime errors loading sample data
</success_criteria>

<output>
After completion, create `.planning/phases/102-sample-data-test-cleanup/102-01-SUMMARY.md`
</output>
