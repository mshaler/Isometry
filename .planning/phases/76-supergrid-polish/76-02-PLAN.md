---
phase: 76-supergrid-polish
plan: 02
subsystem: supergrid
tags: [performance, benchmarks, testing, fts5]

# Dependency graph
requires:
  - phase: 76-01
    provides: SuperSearch integration complete
provides:
  - Performance benchmark test suite
  - Documented verification against spec targets
affects: [supergrid-mvp, performance-guarantees]

# Tech tracking
tech-stack:
  existing: [vitest, sql.js, d3.js]
  patterns: [benchmark-testing, synthetic-data-generation]

key-files:
  create:
    - src/test/performance/test-data-generator.ts
    - src/test/performance/render-benchmark.test.ts
    - src/test/performance/search-benchmark.test.ts

---

# Phase 76-02: Performance Verification

**Goal:** Verify SuperGrid meets spec performance targets (MVP criterion)

## Context

From SuperGrid-Specification.md Section 12:

| Metric | Target | Test Scope |
|--------|--------|------------|
| Initial grid render (1k cards) | < 200ms | Baseline |
| Grid render (10k cards) | < 500ms | Scale target |
| FTS5 search (10k cards) | < 100ms | Search latency |
| Header click response | < 50ms | Interaction |
| Density slider response | < 100ms | Control |
| 60fps threshold | < 16ms frames | Animation |

## Tasks

### Task 1: Create Test Data Generator

Create `src/test/performance/test-data-generator.ts`:
- Generate synthetic node data at 1k, 5k, 10k scales
- Realistic distribution of LATCH properties
- Consistent seed for reproducibility

### Task 2: Create Render Benchmark Tests

Create `src/test/performance/render-benchmark.test.ts`:
- Measure render time at 1k, 5k, 10k card counts
- Use Performance.now() around render calls
- Assert against spec targets
- Document results

### Task 3: Create Search Benchmark Tests

Create `src/test/performance/search-benchmark.test.ts`:
- Measure FTS5 query execution time
- Test at 10k card scale
- Assert < 100ms target
- Test various query patterns

### Task 4: Document Results

Update 76-02-SUMMARY.md with:
- Benchmark results table
- Pass/fail status for each target
- Notes on any optimizations needed

## Acceptance Criteria

- [ ] PERF-01: 10k card render < 500ms (documented)
- [ ] PERF-02: FTS5 search < 100ms at 10k (documented)
- [ ] PERF-03: Header click response < 50ms
- [ ] PERF-04: 60fps maintained at 1k cards

## Estimated Duration

~15 minutes
