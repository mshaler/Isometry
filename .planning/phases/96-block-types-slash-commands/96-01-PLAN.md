---
phase: 96-block-types-slash-commands
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/notebook/editor/extensions/slash-commands.ts
autonomous: true

must_haves:
  truths:
    - "User can type /h1 through /h6 and get corresponding heading level"
    - "User can type /divider and see horizontal rule inserted"
    - "User can type /quote and get blockquote formatting"
    - "User can type /date and get current date inserted"
  artifacts:
    - path: "src/components/notebook/editor/extensions/slash-commands.ts"
      provides: "Extended SLASH_COMMANDS array with heading, divider, quote, date commands"
      exports: ["SLASH_COMMANDS"]
  key_links:
    - from: "slash-commands.ts"
      to: "editor.chain().setHeading()"
      via: "TipTap command chain"
      pattern: "setHeading\\({ level:"
---

<objective>
Add basic slash commands for headings (/h1-/h6), divider, quote, and date insertion

Purpose: Expand the slash command menu with essential formatting commands that use TipTap's built-in extensions (already included in StarterKit)
Output: Extended SLASH_COMMANDS array with 9 new commands
</objective>

<execution_context>
@/Users/mshaler/.claude/get-shit-done/workflows/execute-plan.md
@/Users/mshaler/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/STATE.md
@src/components/notebook/editor/extensions/slash-commands.ts
@src/hooks/ui/useTipTapEditor.ts

Key patterns from Phase 95-02:
- CustomEvent dispatch for editor-to-component communication
- Action receives { editor, range } and MUST call deleteRange(range) before inserting
- SLASH_COMMANDS array structure: { id, label, description, category, shortcut, action }
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add heading slash commands /h1 through /h6</name>
  <files>src/components/notebook/editor/extensions/slash-commands.ts</files>
  <action>
Add 6 heading commands to SLASH_COMMANDS array. Each heading command:
- id: 'h1', 'h2', 'h3', 'h4', 'h5', 'h6'
- label: 'Heading 1', 'Heading 2', etc.
- description: Describes the heading level use case
- category: 'format'
- shortcut: 'h1', 'h2', etc.
- action: Uses editor.chain().focus().deleteRange(range).setHeading({ level: N }).run()

StarterKit already includes the Heading extension, so setHeading() is available.

Add these AFTER the existing format commands (code-snippet, task-list, table, math).
  </action>
  <verify>
Run `npm run check:types` - no TypeScript errors
Grep for 'setHeading' in slash-commands.ts - should find 6 occurrences
  </verify>
  <done>
6 heading commands (h1-h6) added to SLASH_COMMANDS with working setHeading calls
  </done>
</task>

<task type="auto">
  <name>Task 2: Add divider, quote, and date slash commands</name>
  <files>src/components/notebook/editor/extensions/slash-commands.ts</files>
  <action>
Add 3 more commands to SLASH_COMMANDS:

1. **divider** command:
   - id: 'divider'
   - label: 'Divider'
   - description: 'Insert horizontal line'
   - category: 'format'
   - shortcut: 'divider' or 'hr'
   - action: editor.chain().focus().deleteRange(range).setHorizontalRule().run()

   Note: StarterKit includes HorizontalRule extension, so setHorizontalRule() is available.

2. **quote** command:
   - id: 'quote'
   - label: 'Quote'
   - description: 'Insert blockquote'
   - category: 'format'
   - shortcut: 'quote'
   - action: editor.chain().focus().deleteRange(range).setBlockquote().run()

   Note: StarterKit includes Blockquote extension.

3. **date** command:
   - id: 'date'
   - label: 'Current Date'
   - description: 'Insert today\'s date'
   - category: 'format'
   - shortcut: 'date'
   - action: Insert formatted date string using new Date().toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })
     Example output: "Friday, February 14, 2026"
  </action>
  <verify>
Run `npm run check:types` - no TypeScript errors
Grep for 'setHorizontalRule' in slash-commands.ts - should find 1 occurrence
Grep for 'setBlockquote' in slash-commands.ts - should find 1 occurrence
Grep for 'toLocaleDateString' in slash-commands.ts - should find 1 occurrence
  </verify>
  <done>
Divider, quote, and date commands added and working with TipTap built-in extensions
  </done>
</task>

</tasks>

<verification>
1. Run `npm run check:types` - passes with zero errors
2. Count new commands: grep -c "id: 'h" src/components/notebook/editor/extensions/slash-commands.ts should return 6 (for h1-h6)
3. Verify existing commands still present: grep "save-card" slash-commands.ts returns match
</verification>

<success_criteria>
- SLASH_COMMANDS array has 9 new entries (h1-h6, divider, quote, date)
- All new commands use appropriate TipTap methods (setHeading, setHorizontalRule, setBlockquote, insertContent)
- TypeScript compiles with zero errors
- Existing slash commands remain functional
</success_criteria>

<output>
After completion, create `.planning/phases/96-block-types-slash-commands/96-01-SUMMARY.md`
</output>
